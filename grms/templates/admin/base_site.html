{% extends "admin/base.html" %}
{% load i18n static %}

{% block title %}{{ site_title|default:_('Django site admin') }}{% endblock %}

{% block bodyclass %}grms-admin {{ block.super }}{% endblock %}

{% block extrastyle %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'grms/css/admin_overrides.css' %}">
{% endblock %}

{% block nav-sidebar %}
  {% include "admin/_sidebar.html" %}
{% endblock %}

{% block header %}
  <header id="header" class="grms-header">
    <div class="grms-header-left">
      <button id="grms-sidebar-toggle" type="button" aria-label="{% trans 'Toggle menu' %}">â˜°</button>
      <a class="grms-logo" href="{% url 'admin:index' %}">{{ site_header|default:_('GRMS Administration') }}</a>
    </div>
    <div class="grms-header-center">
      <form class="grms-global-search" action="{% url 'admin:index' %}" method="get" role="search">
        <label class="visually-hidden" for="grms-global-search">{% trans 'Search' %}</label>
        <input
          id="grms-global-search"
          type="search"
          name="q"
          placeholder="{% trans 'Search admin' %}"
          aria-label="{% trans 'Search admin' %}"
        />
      </form>
    </div>
    <div class="grms-header-right">
      <div class="grms-user-menu">
        <span class="grms-username">{% firstof request.user.get_short_name request.user.get_username %}</span>
        <div class="grms-user-actions">
          {% if site_url %}
            <a href="{{ site_url }}">{% trans 'View site' %}</a>
          {% endif %}
          {% if request.user.has_usable_password %}
            <a href="{% url 'admin:password_change' %}">{% trans 'Change password' %}</a>
          {% endif %}
          <form method="post" action="{% url 'admin:logout' %}">
            {% csrf_token %}
            <button type="submit">{% trans 'Log out' %}</button>
          </form>
        </div>
      </div>
    </div>
  </header>
{% endblock %}

{% block nav-breadcrumbs %}
  <nav id="grms-breadcrumbs" aria-label="{% trans 'Breadcrumbs' %}">
    {% block breadcrumbs %}
      <div class="breadcrumbs">
        <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
        {% if title %} &rsaquo; {{ title }}{% endif %}
      </div>
    {% endblock %}
  </nav>
{% endblock %}

{% block footer %}
  {{ block.super }}
  <script src="{% static 'grms/js/admin_sidebar.js' %}"></script>
{% endblock %}
